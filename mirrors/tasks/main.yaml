---
# Main task file for mirrors role
# This file includes all mirror configuration tasks

- name: Create common directory for all mirrors
  ansible.builtin.file:
    path: /srv
    state: directory
    owner: root
    group: root
    mode: "0755"
  tags:
    - mirrors

- name: Ensure user mirrors exists
  ansible.builtin.user:
    name: mirrors
    state: present
    system: false
  tags:
    - mirrors

- name: Include AlmaLinux mirror configuration
  ansible.builtin.include_tasks: almalinux.yaml
  tags:
    - almalinux

- name: Include ArchLinux mirror configuration
  ansible.builtin.include_tasks: archlinux.yaml
  tags:
    - archlinux

- name: Include Debian mirror configuration
  ansible.builtin.include_tasks: debian.yaml
  tags:
    - debian

- name: Include Linux Mint mirror configuration
  ansible.builtin.include_tasks: linux-mint.yaml
  tags:
    - linux-mint

- name: Include nginx configuration for mirrors
  ansible.builtin.include_tasks: nginx.yaml
  tags:
    - mirrors

- name: Include rsync configuration for mirrors
  ansible.builtin.include_tasks: rsync-daemon.yaml
  tags:
    - mirrors
...